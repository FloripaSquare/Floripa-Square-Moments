  " u s e   c l i e n t " ;     i m p o r t   {   u s e S t a t e ,   u s e M e m o ,   u s e R e f ,   u s e E f f e c t   }   f r o m   " r e a c t " ;   i m p o r t   {   A P I _ U R L   }   f r o m   " @ / l i b / a p i " ;   i m p o r t   {   P h o t o I c o n ,   T r a s h I c o n ,   X M a r k I c o n   }   f r o m   " @ h e r o i c o n s / r e a c t / 2 4 / o u t l i n e " ;     t y p e   U p l o a d T y p e   =   " g e n e r a l "   |   " v i d e o s " ;     i n t e r f a c e   E v e n t   {       s l u g :   s t r i n g ;       t i t l e :   s t r i n g ;   }     i n t e r f a c e   M e d i a I t e m   {       i d :   s t r i n g ;       e v e n t _ s l u g :   s t r i n g ;       s 3 _ k e y :   s t r i n g ;       s 3 _ u r l :   s t r i n g ;       m e d i a _ t y p e :   s t r i n g ;       c r e a t e d _ a t :   s t r i n g ;   }     i n t e r f a c e   U p l o a d M e d i a F o r m P r o p s   {       e v e n t s :   E v e n t [ ] ;       o n U p l o a d e d :   ( )   = >   v o i d ;   }     e x p o r t   d e f a u l t   f u n c t i o n   U p l o a d M e d i a F o r m ( {       e v e n t s ,       o n U p l o a d e d ,   } :   U p l o a d M e d i a F o r m P r o p s )   {       c o n s t   [ s e l e c t e d E v e n t ,   s e t S e l e c t e d E v e n t ]   =   u s e S t a t e ( " " ) ;       c o n s t   [ u p l o a d T y p e ,   s e t U p l o a d T y p e ]   =   u s e S t a t e < U p l o a d T y p e > ( " g e n e r a l " ) ;       c o n s t   [ f i l e s ,   s e t F i l e s ]   =   u s e S t a t e < F i l e L i s t   |   n u l l > ( n u l l ) ;       c o n s t   [ m e s s a g e ,   s e t M e s s a g e ]   =   u s e S t a t e ( " " ) ;       c o n s t   [ l o a d i n g ,   s e t L o a d i n g ]   =   u s e S t a t e ( f a l s e ) ;       c o n s t   [ l o a d e d M e d i a ,   s e t L o a d e d M e d i a ]   =   u s e S t a t e < M e d i a I t e m [ ] > ( [ ] ) ;       c o n s t   [ l o a d i n g M e d i a ,   s e t L o a d i n g M e d i a ]   =   u s e S t a t e ( f a l s e ) ;       c o n s t   [ s e l e c t e d M e d i a ,   s e t S e l e c t e d M e d i a ]   =   u s e S t a t e < M e d i a I t e m   |   n u l l > ( n u l l ) ;         c o n s t   f i l e I n p u t R e f   =   u s e R e f < H T M L I n p u t E l e m e n t   |   n u l l > ( n u l l ) ;         c o n s t   a c c e p t e d F i l e T y p e s   =   u s e M e m o (           ( )   = >               u p l o a d T y p e   = = =   " v i d e o s "                   ?   " v i d e o / m p 4 , v i d e o / q u i c k t i m e , v i d e o / x - m s v i d e o , v i d e o / x - m a t r o s k a "                   :   " i m a g e / j p e g , i m a g e / p n g , i m a g e / j p g " ,           [ u p l o a d T y p e ]       ) ;         / /   F u n %  %  o   p a r a   c a r r e g a r   m %  d i a s   d o   e v e n t o       c o n s t   l o a d E v e n t M e d i a   =   a s y n c   ( s l u g :   s t r i n g )   = >   {           i f   ( ! s l u g )   {               s e t L o a d e d M e d i a ( [ ] ) ;               r e t u r n ;           }             s e t L o a d i n g M e d i a ( t r u e ) ;           t r y   {               c o n s t   t o k e n   =   l o c a l S t o r a g e . g e t I t e m ( " a d m i n _ t o k e n " ) ;               / /                 L I S T A G E M   u s a   " m e d i a _ t y p e "   ( N %  O   " t y p e " )               c o n s t   r e s   =   a w a i t   f e t c h (                   ` $ { A P I _ U R L } / p h o t o s / $ { s l u g } / m e d i a ? m e d i a _ t y p e = $ { u p l o a d T y p e } ` ,                   {                       h e a d e r s :   {   A u t h o r i z a t i o n :   ` B e a r e r   $ { t o k e n } `   } ,                   }               ) ;                 i f   ( r e s . o k )   {                   c o n s t   d a t a   =   a w a i t   r e s . j s o n ( ) ;                   s e t L o a d e d M e d i a ( d a t a ) ;               }   e l s e   {                   s e t L o a d e d M e d i a ( [ ] ) ;               }           }   c a t c h   ( e r r )   {               c o n s o l e . e r r o r ( " E r r o   a o   c a r r e g a r   m %  d i a s : " ,   e r r ) ;               s e t L o a d e d M e d i a ( [ ] ) ;           }   f i n a l l y   {               s e t L o a d i n g M e d i a ( f a l s e ) ;           }       } ;         / /   F u n %  %  o   p a r a   d e l e t a r   m %  d i a       c o n s t   h a n d l e D e l e t e M e d i a   =   a s y n c   ( m e d i a I d :   s t r i n g )   = >   {           i f   ( ! c o n f i r m ( " D e s e j a   e x c l u i r   e s t a   m %  d i a ? " ) )   r e t u r n ;             t r y   {               c o n s t   t o k e n   =   l o c a l S t o r a g e . g e t I t e m ( " a d m i n _ t o k e n " ) ;               c o n s t   r e s   =   a w a i t   f e t c h ( ` $ { A P I _ U R L } / p h o t o s / m e d i a / $ { m e d i a I d } ` ,   {                   m e t h o d :   " D E L E T E " ,                   h e a d e r s :   {   A u t h o r i z a t i o n :   ` B e a r e r   $ { t o k e n } `   } ,               } ) ;                 i f   ( r e s . o k )   {                   s e t L o a d e d M e d i a ( ( p r e v )   = >   p r e v . f i l t e r ( ( m )   = >   m . i d   ! = =   m e d i a I d ) ) ;                   i f   ( s e l e c t e d M e d i a ? . i d   = = =   m e d i a I d )   {                       s e t S e l e c t e d M e d i a ( n u l l ) ;                   }               }   e l s e   {                   a l e r t ( " E r r o   a o   e x c l u i r   m %  d i a " ) ;               }           }   c a t c h   ( e r r )   {               c o n s o l e . e r r o r ( " E r r o   a o   d e l e t a r : " ,   e r r ) ;               a l e r t ( " E r r o   a o   e x c l u i r   m %  d i a " ) ;           }       } ;         / /   C a r r e g a r   m %  d i a s   q u a n d o   e v e n t o   o u   t i p o   m u d a       u s e E f f e c t ( ( )   = >   {           i f   ( s e l e c t e d E v e n t )   {               l o a d E v e n t M e d i a ( s e l e c t e d E v e n t ) ;           }   e l s e   {               s e t L o a d e d M e d i a ( [ ] ) ;           }       } ,   [ s e l e c t e d E v e n t ,   u p l o a d T y p e ] ) ;         / /   B l o q u e a r   s c r o l l   q u a n d o   m o d a l   e s t %    a b e r t o       u s e E f f e c t ( ( )   = >   {           i f   ( s e l e c t e d M e d i a )   {               d o c u m e n t . b o d y . s t y l e . o v e r f l o w   =   " h i d d e n " ;           }   e l s e   {               d o c u m e n t . b o d y . s t y l e . o v e r f l o w   =   " u n s e t " ;           }           r e t u r n   ( )   = >   {               d o c u m e n t . b o d y . s t y l e . o v e r f l o w   =   " u n s e t " ;           } ;       } ,   [ s e l e c t e d M e d i a ] ) ;         a s y n c   f u n c t i o n   h a n d l e S u b m i t ( e :   R e a c t . F o r m E v e n t )   {           e . p r e v e n t D e f a u l t ( ) ;             i f   ( ! f i l e s   | |   f i l e s . l e n g t h   = = =   0   | |   ! s e l e c t e d E v e n t )   {               s e t M e s s a g e ( "         S e l e c i o n e   u m   e v e n t o   e   p e l o   m e n o s   u m   a r q u i v o . " ) ;               r e t u r n ;           }             s e t L o a d i n g ( t r u e ) ;           s e t M e s s a g e ( " " ) ;             c o n s t   t o k e n   =   l o c a l S t o r a g e . g e t I t e m ( " a d m i n _ t o k e n " ) ;           i f   ( ! t o k e n )   {               s e t M e s s a g e ( "         T o k e n   n %  o   e n c o n t r a d o . " ) ;               r e t u r n ;           }             c o n s t   f o r m D a t a   =   n e w   F o r m D a t a ( ) ;           A r r a y . f r o m ( f i l e s ) . f o r E a c h ( ( f i l e )   = >   f o r m D a t a . a p p e n d ( " f i l e s " ,   f i l e ) ) ;             t r y   {               c o n s t   r e s   =   a w a i t   f e t c h (                   ` $ { A P I _ U R L } / i n g e s t / $ { s e l e c t e d E v e n t } / m e d i a ? t y p e = $ { u p l o a d T y p e } ` ,                   {                       m e t h o d :   " P O S T " ,                       h e a d e r s :   {   A u t h o r i z a t i o n :   ` B e a r e r   $ { t o k e n } `   } ,                       b o d y :   f o r m D a t a ,                   }               ) ;                 c o n s t   r e s u l t   =   a w a i t   r e s . j s o n ( ) ;                 i f   ( ! r e s . o k )   t h r o w   n e w   E r r o r ( r e s u l t . d e t a i l   | |   " F a l h a   n o   u p l o a d " ) ;                 s e t M e s s a g e ( "         U p l o a d   c o n c l u %  d o   c o m   s u c e s s o ! " ) ;                 o n U p l o a d e d ? . ( ) ;               l o a d E v e n t M e d i a ( s e l e c t e d E v e n t ) ;                 i f   ( f i l e I n p u t R e f . c u r r e n t )   f i l e I n p u t R e f . c u r r e n t . v a l u e   =   " " ;               s e t F i l e s ( n u l l ) ;           }   c a t c h   ( e r r )   {               s e t M e s s a g e ( `         $ { ( e r r   a s   E r r o r ) . m e s s a g e } ` ) ;           }   f i n a l l y   {               s e t L o a d i n g ( f a l s e ) ;           }       }         r e t u r n   (           < >               < f o r m   o n S u b m i t = { h a n d l e S u b m i t }   c l a s s N a m e = " s p a c e - y - 6 " >                   { / *   E v e n t o   * / }                   < d i v >                       < l a b e l   c l a s s N a m e = " b l o c k   m b - 1   t e x t - s m   f o n t - m e d i u m " > E v e n t o < / l a b e l >                       < s e l e c t                           v a l u e = { s e l e c t e d E v e n t }                           o n C h a n g e = { ( e )   = >   s e t S e l e c t e d E v e n t ( e . t a r g e t . v a l u e ) }                           c l a s s N a m e = " w - f u l l   b o r d e r   r o u n d e d - m d   p - 2 "                       >                           < o p t i o n   v a l u e = " " > S e l e c i o n e . . . < / o p t i o n >                           { e v e n t s . m a p ( ( e v )   = >   (                               < o p t i o n   k e y = { e v . s l u g }   v a l u e = { e v . s l u g } >                                   { e v . t i t l e }                               < / o p t i o n >                           ) ) }                       < / s e l e c t >                   < / d i v >                     { / *   T i p o   * / }                   < d i v >                       < l a b e l   c l a s s N a m e = " b l o c k   m b - 1   t e x t - s m   f o n t - m e d i u m " > T i p o   d e   U p l o a d < / l a b e l >                       < d i v   c l a s s N a m e = " f l e x   g a p - 4 " >                           { ( [ " g e n e r a l " ,   " v i d e o s " ]   a s   U p l o a d T y p e [ ] ) . m a p ( ( t y p e )   = >   (                               < l a b e l                                   k e y = { t y p e }                                   c l a s s N a m e = { ` p x - 3   p y - 2   b o r d e r   r o u n d e d   c u r s o r - p o i n t e r   $ {                                       u p l o a d T y p e   = = =   t y p e   ?   " b o r d e r - b l u e - 6 0 0   b g - b l u e - 5 0 "   :   " "                                   } ` }                               >                                   < i n p u t                                       t y p e = " r a d i o "                                       c l a s s N a m e = " m r - 2 "                                       v a l u e = { t y p e }                                       c h e c k e d = { u p l o a d T y p e   = = =   t y p e }                                       o n C h a n g e = { ( )   = >   {                                           s e t U p l o a d T y p e ( t y p e ) ;                                           s e t F i l e s ( n u l l ) ;                                           i f   ( f i l e I n p u t R e f . c u r r e n t )   f i l e I n p u t R e f . c u r r e n t . v a l u e   =   " " ;                                       } }                                   / >                                   { t y p e   = = =   " g e n e r a l "   ?   " F o t o s "   :   " V %  d e o s " }                               < / l a b e l >                           ) ) }                       < / d i v >                   < / d i v >                     { / *   A r q u i v o s   * / }                   < d i v >                       < l a b e l   c l a s s N a m e = " b l o c k   m b - 1   t e x t - s m   f o n t - m e d i u m " > A r q u i v o s < / l a b e l >                       < d i v   c l a s s N a m e = " b o r d e r - d a s h e d   b o r d e r - 2   p - 6   r o u n d e d - m d   t e x t - c e n t e r " >                           < P h o t o I c o n   c l a s s N a m e = " h - 1 0   w - 1 0   m x - a u t o   t e x t - g r a y - 4 0 0 "   / >                           < l a b e l   c l a s s N a m e = " c u r s o r - p o i n t e r   t e x t - b l u e - 6 0 0   f o n t - s e m i b o l d " >                               S e l e c i o n e   a r q u i v o s                               < i n p u t                                   r e f = { f i l e I n p u t R e f }                                   t y p e = " f i l e "                                   m u l t i p l e                                   a c c e p t = { a c c e p t e d F i l e T y p e s }                                   c l a s s N a m e = " h i d d e n "                                   o n C h a n g e = { ( e )   = >   s e t F i l e s ( e . t a r g e t . f i l e s ) }                               / >                           < / l a b e l >                           { f i l e s   & &   (                               < p   c l a s s N a m e = " m t - 2 " > { f i l e s . l e n g t h }   a r q u i v o ( s )   s e l e c i o n a d o ( s ) . < / p >                           ) }                       < / d i v >                   < / d i v >                     { m e s s a g e   & &   (                       < p                           c l a s s N a m e = {                               m e s s a g e . s t a r t s W i t h ( "       " )   ?   " t e x t - r e d - 6 0 0 "   :   " t e x t - g r e e n - 6 0 0 "                           }                       >                           { m e s s a g e }                       < / p >                   ) }                     < b u t t o n                       t y p e = " s u b m i t "                       d i s a b l e d = { l o a d i n g   | |   ! f i l e s }                       c l a s s N a m e = " w - f u l l   b g - b l u e - 6 0 0   t e x t - w h i t e   p y - 2   r o u n d e d - m d   d i s a b l e d : b g - g r a y - 4 0 0 "                   >                       { l o a d i n g   ?   " E n v i a n d o . . . "   :   " E n v i a r " }                   < / b u t t o n >               < / f o r m >                 { / *   S e %  %  o   d e   M %  d i a s   E x i s t e n t e s   * / }               < d i v   c l a s s N a m e = " m t - 8   b o r d e r - t   p t - 6 " >                   < h 3   c l a s s N a m e = " t e x t - l g   f o n t - s e m i b o l d   t e x t - g r a y - 8 0 0   m b - 4 " >                       { u p l o a d T y p e   = = =   " g e n e r a l "   ?   " F o t o s   G e r a i s "   :   " V %  d e o s " }   d o   E v e n t o                       { l o a d e d M e d i a . l e n g t h   >   0   & &   (                           < s p a n   c l a s s N a m e = " m l - 2   t e x t - s m   f o n t - n o r m a l   t e x t - g r a y - 5 0 0 " >                               ( { l o a d e d M e d i a . l e n g t h }   { l o a d e d M e d i a . l e n g t h   = = =   1   ?   " i t e m "   :   " i t e n s " } )                           < / s p a n >                       ) }                   < / h 3 >                     { ! s e l e c t e d E v e n t   ?   (                       < p   c l a s s N a m e = " t e x t - g r a y - 5 0 0   t e x t - s m " >                           S e l e c i o n e   u m   e v e n t o   p a r a   v e r   a s   m %  d i a s .                       < / p >                   )   :   l o a d i n g M e d i a   ?   (                       < d i v   c l a s s N a m e = " f l e x   i t e m s - c e n t e r   g a p - 2   t e x t - g r a y - 5 0 0 " >                           < s v g   c l a s s N a m e = " a n i m a t e - s p i n   h - 5   w - 5 "   v i e w B o x = " 0   0   2 4   2 4 " >                               < c i r c l e                                   c l a s s N a m e = " o p a c i t y - 2 5 "                                   c x = " 1 2 "                                   c y = " 1 2 "                                   r = " 1 0 "                                   s t r o k e = " c u r r e n t C o l o r "                                   s t r o k e W i d t h = " 4 "                                   f i l l = " n o n e "                               / >                               < p a t h                                   c l a s s N a m e = " o p a c i t y - 7 5 "                                   f i l l = " c u r r e n t C o l o r "                                   d = " M 4   1 2 a 8   8   0   0 1 8 - 8 V 0 C 5 . 3 7 3   0   0   5 . 3 7 3   0   1 2 h 4 z m 2   5 . 2 9 1 A 7 . 9 6 2   7 . 9 6 2   0   0 1 4   1 2 H 0 c 0   3 . 0 4 2   1 . 1 3 5   5 . 8 2 4   3   7 . 9 3 8 l 3 - 2 . 6 4 7 z "                               / >                           < / s v g >                           < s p a n > C a r r e g a n d o   m %  d i a s . . . < / s p a n >                       < / d i v >                   )   :   l o a d e d M e d i a . l e n g t h   = = =   0   ?   (                       < p   c l a s s N a m e = " t e x t - g r a y - 5 0 0   t e x t - s m " >                           N e n h u m a   { u p l o a d T y p e   = = =   " g e n e r a l "   ?   " f o t o "   :   " v %  d e o " }   e n v i a d o   p a r a   e s t e   e v e n t o .                       < / p >                   )   :   (                       < d i v   c l a s s N a m e = " g r i d   g r i d - c o l s - 3   s m : g r i d - c o l s - 4   m d : g r i d - c o l s - 5   l g : g r i d - c o l s - 6   g a p - 3 " >                           { l o a d e d M e d i a . m a p ( ( m e d i a )   = >   (                               < d i v                                   k e y = { m e d i a . i d }                                   c l a s s N a m e = " r e l a t i v e   g r o u p   c u r s o r - p o i n t e r   a s p e c t - s q u a r e "                               >                                   < i m g                                       s r c = { m e d i a . s 3 _ u r l }                                       a l t = " M %  d i a "                                       o n C l i c k = { ( )   = >   s e t S e l e c t e d M e d i a ( m e d i a ) }                                       c l a s s N a m e = " w - f u l l   h - f u l l   o b j e c t - c o v e r   r o u n d e d - l g   s h a d o w - s m                                                             t r a n s i t i o n - t r a n s f o r m   d u r a t i o n - 3 0 0   e a s e - o u t                                                             g r o u p - h o v e r : s c a l e - 1 1 0   g r o u p - h o v e r : s h a d o w - l g   g r o u p - h o v e r : z - 1 0 "                                   / >                                   < b u t t o n                                       o n C l i c k = { ( e )   = >   {                                           e . s t o p P r o p a g a t i o n ( ) ;                                           h a n d l e D e l e t e M e d i a ( m e d i a . i d ) ;                                       } }                                       c l a s s N a m e = " a b s o l u t e   t o p - 2   r i g h t - 2   b g - r e d - 6 0 0   h o v e r : b g - r e d - 7 0 0                                                             t e x t - w h i t e   p - 1 . 5   r o u n d e d - f u l l   s h a d o w - l g                                                             o p a c i t y - 0   g r o u p - h o v e r : o p a c i t y - 1 0 0   t r a n s i t i o n - o p a c i t y   z - 2 0 "                                       t i t l e = " E x c l u i r   m %  d i a "                                   >                                       < T r a s h I c o n   c l a s s N a m e = " h - 4   w - 4 "   / >                                   < / b u t t o n >                               < / d i v >                           ) ) }                       < / d i v >                   ) }               < / d i v >                 { / *   M o d a l   d e   V i s u a l i z a %  %  o   * / }               { s e l e c t e d M e d i a   & &   (                   < d i v                       c l a s s N a m e = " f i x e d   i n s e t - 0   z - 5 0   b g - b l a c k / 8 0   f l e x   i t e m s - c e n t e r   j u s t i f y - c e n t e r   p - 4 "                       o n C l i c k = { ( )   = >   s e t S e l e c t e d M e d i a ( n u l l ) }                   >                       < d i v                           c l a s s N a m e = " r e l a t i v e   m a x - w - 4 x l   m a x - h - [ 9 0 v h ]   w - f u l l "                           o n C l i c k = { ( e )   = >   e . s t o p P r o p a g a t i o n ( ) }                       >                           < i m g                               s r c = { s e l e c t e d M e d i a . s 3 _ u r l }                               a l t = " M %  d i a   a m p l i a d a "                               c l a s s N a m e = " w - f u l l   h - f u l l   m a x - h - [ 8 5 v h ]   o b j e c t - c o n t a i n   r o u n d e d - l g "                           / >                             { / *   B o t %  o   F e c h a r   * / }                           < b u t t o n                               o n C l i c k = { ( )   = >   s e t S e l e c t e d M e d i a ( n u l l ) }                               c l a s s N a m e = " a b s o l u t e   t o p - 3   r i g h t - 3   b g - w h i t e / 9 0   h o v e r : b g - w h i t e                                                     t e x t - g r a y - 8 0 0   p - 2   r o u n d e d - f u l l   s h a d o w - l g   t r a n s i t i o n - c o l o r s "                               t i t l e = " F e c h a r "                           >                               < X M a r k I c o n   c l a s s N a m e = " h - 6   w - 6 "   / >                           < / b u t t o n >                             { / *   B o t %  o   E x c l u i r   * / }                           < b u t t o n                               o n C l i c k = { ( )   = >   h a n d l e D e l e t e M e d i a ( s e l e c t e d M e d i a . i d ) }                               c l a s s N a m e = " a b s o l u t e   t o p - 3   l e f t - 3   b g - r e d - 6 0 0   h o v e r : b g - r e d - 7 0 0                                                     t e x t - w h i t e   p - 2   r o u n d e d - f u l l   s h a d o w - l g   t r a n s i t i o n - c o l o r s "                               t i t l e = " E x c l u i r   m %  d i a "                           >                               < T r a s h I c o n   c l a s s N a m e = " h - 5   w - 5 "   / >                           < / b u t t o n >                             { / *   I n f o   d a   m %  d i a   * / }                           < d i v   c l a s s N a m e = " a b s o l u t e   b o t t o m - 3   l e f t - 3   r i g h t - 3   b g - b l a c k / 6 0                                                           t e x t - w h i t e   t e x t - s m   p x - 3   p y - 2   r o u n d e d - l g " >                               E n v i a d o   e m :   { n e w   D a t e ( s e l e c t e d M e d i a . c r e a t e d _ a t ) . t o L o c a l e S t r i n g ( " p t - B R " ) }                           < / d i v >                       < / d i v >                   < / d i v >               ) }           < / >       ) ;   }   